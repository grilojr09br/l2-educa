var b=Object.defineProperty,S=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var x=(a,r,e)=>r in a?b(a,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[r]=e,u=(a,r)=>{for(var e in r||(r={}))A.call(r,e)&&x(a,e,r[e]);if(f)for(var e of f(r))E.call(r,e)&&x(a,e,r[e]);return a},h=(a,r)=>S(a,P(r));var j=(a,r,e)=>new Promise((l,n)=>{var d=o=>{try{c(e.next(o))}catch(t){n(t)}},m=o=>{try{c(e.throw(o))}catch(t){n(t)}},c=o=>o.done?l(o.value):Promise.resolve(o.value).then(d,m);c((e=e.apply(a,r)).next())});import{u as y,r as p,b as R,j as s}from"./react-vendor-DYggY1V5.js";import{a as F,o as L,s as N}from"./vendor-IcH3LwkJ.js";import{u as $,A as C}from"./page-forgotpassword-B2MfD6L6.js";/* empty css                       */const D=L({password:N().min(8,"Senha deve ter no mínimo 8 caracteres").regex(/[A-Z]/,"Senha deve conter pelo menos uma letra maiúscula").regex(/[a-z]/,"Senha deve conter pelo menos uma letra minúscula").regex(/[0-9]/,"Senha deve conter pelo menos um número").regex(/[!@#$%^&*(),.?":{}|<>]/,"Senha deve conter pelo menos um caractere especial"),confirmPassword:N()}).refine(a=>a.password===a.confirmPassword,{message:"As senhas não coincidem",path:["confirmPassword"]}),k=()=>{const{updatePassword:a}=$(),r=y(),[e,l]=p.useState(null),[n,d]=p.useState(!1),[m,c]=p.useState(!1),{register:o,handleSubmit:t,formState:{errors:i}}=R({resolver:F(D)}),g=w=>j(null,null,function*(){l(null),d(!0);try{yield a(w.password),c(!0),setTimeout(()=>{r("/login")},2e3)}catch(v){l(v.message||"Erro ao redefinir senha")}finally{d(!1)}});return m?s.jsx("div",{className:"auth-form-container",children:s.jsxs("div",{className:"success-message",children:[s.jsx("div",{className:"success-icon",children:"✓"}),s.jsx("h2",{children:"Senha redefinida!"}),s.jsx("p",{children:"Sua senha foi alterada com sucesso. Redirecionando para o login..."})]})}):s.jsxs("div",{className:"auth-form-container",children:[s.jsxs("div",{className:"auth-form-header",children:[s.jsx("h2",{className:"auth-form-title",children:"Nova senha"}),s.jsx("p",{className:"auth-form-subtitle",children:"Digite sua nova senha"})]}),s.jsxs("form",{onSubmit:t(g),className:"auth-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Nova Senha"}),s.jsx("input",h(u({id:"password",type:"password"},o("password")),{disabled:n,className:`form-input ${i.password?"form-input-error":""}`,placeholder:"••••••••"})),i.password&&s.jsx("span",{className:"form-error",children:i.password.message})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmar Nova Senha"}),s.jsx("input",h(u({id:"confirmPassword",type:"password"},o("confirmPassword")),{disabled:n,className:`form-input ${i.confirmPassword?"form-input-error":""}`,placeholder:"••••••••"})),i.confirmPassword&&s.jsx("span",{className:"form-error",children:i.confirmPassword.message})]}),e&&s.jsx("div",{className:"api-error",children:e}),s.jsx("button",{type:"submit",disabled:n,className:"submit-button",children:n?s.jsxs("span",{className:"button-loading",children:[s.jsx("span",{className:"spinner"}),"Redefinindo..."]}):"Redefinir senha"})]})]})},Z=()=>s.jsxs("div",{className:"auth-page",children:[s.jsx(C,{}),s.jsxs("div",{className:"auth-page-content",children:[s.jsxs("div",{className:"auth-page-logo",children:[s.jsx("h1",{className:"logo-text",children:"L2 EDUCA"}),s.jsx("p",{className:"logo-subtitle",children:"Plataforma Educacional"})]}),s.jsx("div",{className:"auth-card",children:s.jsx(k,{})})]})]});export{Z as default};
