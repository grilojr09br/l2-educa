var y=Object.defineProperty;var x=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var h=(t,o,a)=>o in t?y(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,m=(t,o)=>{for(var a in o||(o={}))g.call(o,a)&&h(t,a,o[a]);if(x)for(var a of x(o))b.call(o,a)&&h(t,a,o[a]);return t};var p=(t,o,a)=>new Promise((c,u)=>{var d=e=>{try{s(a.next(e))}catch(r){u(r)}},n=e=>{try{s(a.throw(e))}catch(r){u(r)}},s=e=>e.done?c(e.value):Promise.resolve(e.value).then(d,n);s((a=a.apply(t,o)).next())});import{r as l,j as i,u as E}from"./react-vendor-DYggY1V5.js";import{u as w,A as C}from"./page-forgotpassword-B2MfD6L6.js";import{G as k}from"./page-analyticgeometry-DYH9OuZI.js";const j=l.createContext(void 0),_=({children:t})=>{const[o,a]=l.useState([]),c=l.useCallback(s=>{const e=Date.now()+Math.random(),r=m({id:e,type:s.type||"info",message:s.message,duration:s.duration||5e3},s);return a(f=>[...f,r]),r.duration>0&&setTimeout(()=>{u(e)},r.duration),e},[]),u=l.useCallback(s=>{a(e=>e.filter(r=>r.id!==s))},[]),d=l.useCallback(()=>{a([])},[]),n={notifications:o,addNotification:c,removeNotification:u,clearAll:d,success:(s,e={})=>c(m({type:"success",message:s},e)),error:(s,e={})=>c(m({type:"error",message:s},e)),warning:(s,e={})=>c(m({type:"warning",message:s},e)),info:(s,e={})=>c(m({type:"info",message:s},e))};return i.jsx(j.Provider,{value:n,children:t})},A=()=>{const t=l.useContext(j);if(!t)throw new Error("useNotification must be used within NotificationProvider");return t},T=()=>{const{user:t,logout:o,resendVerificationEmail:a}=w(),c=E(),{success:u,error:d}=A(),[n,s]=l.useState(0),[e,r]=l.useState(!1);l.useEffect(()=>{if(n>0){const v=setTimeout(()=>s(n-1),1e3);return()=>clearTimeout(v)}},[n]);const f=()=>p(null,null,function*(){if(!(n>0||e)){r(!0);try{yield a(),u("Email de verifica√ß√£o enviado com sucesso!"),s(60)}catch(v){d("Erro ao enviar email. Tente novamente mais tarde.")}finally{r(!1)}}}),N=()=>p(null,null,function*(){try{yield o(),c("/login")}catch(v){d("Erro ao fazer logout.")}});return i.jsxs("div",{className:"verify-email-page",children:[i.jsx(C,{}),i.jsx("div",{className:"verify-email-content",children:i.jsxs(k,{children:[i.jsx("div",{className:"verify-email-icon",children:"üìß"}),i.jsx("h1",{className:"verify-email-title",children:"Verifique seu email"}),i.jsxs("p",{className:"verify-email-text",children:["Enviamos um link de verifica√ß√£o para ",i.jsx("strong",{children:t==null?void 0:t.email})]}),i.jsx("p",{className:"verify-email-instructions",children:"Clique no link no email para confirmar sua conta e ter acesso completo √† plataforma."}),i.jsxs("div",{className:"verify-email-tips",children:[i.jsx("p",{className:"tips-title",children:"N√£o recebeu o email?"}),i.jsxs("ul",{className:"tips-list",children:[i.jsx("li",{children:"Verifique sua pasta de spam ou lixo eletr√¥nico"}),i.jsx("li",{children:"Aguarde alguns minutos - pode demorar um pouco"}),i.jsx("li",{children:"Tente reenviar o email usando o bot√£o abaixo"})]})]}),i.jsxs("div",{className:"verify-email-actions",children:[i.jsx("button",{className:"btn-resend",onClick:f,disabled:n>0||e,children:e?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"spinner"}),"Enviando..."]}):n>0?`Aguarde ${n}s para reenviar`:"Reenviar email de verifica√ß√£o"}),i.jsx("button",{className:"btn-logout-alt",onClick:N,children:"Usar outro email"})]})]})})]})},q=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"}));export{_ as N,q as V,A as u};
